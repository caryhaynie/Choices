<!DOCTYPE HTML>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
    <title>Make a choice for me oh Python</title>
    <style type='text/css'>
    #chosen
      {
      color:red;
      }
    body
      {
      cursor:default;
      }
    </style>
    <script>
    function AddRestaurant()
      {
      var name = document.getElementById('name').value
      var req = new XMLHttpRequest()
      req.open('POST','',false)
      req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded')
      req.send('req=add&arg='+name)
      document.getElementById('response').innerHTML = req.responseText
      }
    function RemoveRestaurant()
      {
      var name = document.getElementById('name').value
      var req = new XMLHttpRequest()
      req.open('POST','',false)
      req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded')
      req.send('req=remove&arg='+name)
      document.getElementById('response').innerHTML = req.responseText
      }
    function ShowChoices()
      {
      var req = new XMLHttpRequest()
      req.open('POST','',false)
      req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded')
      req.send('req=all')
      var choices = JSON.parse(req.responseText)
      var text = ''
      for(var i in choices)
        {
        var name = choices[i]
        var id = escape(name)
        text += '<div class="name" id="'+id+'" onclick="Pick('+"'"+id+"'"+')">' + name + '</div>'
        }
      document.getElementById('choices').innerHTML = text
      }
    function ShowHidden()
      {
      document.getElementById('other').style.visibility = 'visible'
      }
    function Pick(id)
      {
      document.getElementById('name').value = document.getElementById(id).innerHTML
      }
    </script>
  </head>
  <body onload='ShowChoices()'>
    <div onclick='ShowHidden()'>
    GO TO <span id='chosen' title="CLICK HERE TO ADD OR REMOVE PLACES">{{ args }}</span> TODAY!
    </div>
  <br>
  <br>
  <div id='other' style="visibility:hidden;">
    <input type="text" id="name"><button onclick='AddRestaurant()'>ADD</button><button onclick='RemoveRestaurant()'>REMOVE</button>
    <div id='response'/>
    <br>
  <div id='choices'/>
  </div>
  </body>
</html>
